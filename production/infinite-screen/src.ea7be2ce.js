parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"MyHX":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(e){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(t){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"/8cX":[function(require,module,exports) {
var global = arguments[3];
var process = require("process");
var t=arguments[3],r=require("process");!function(t){"use strict";var e,n=Object.prototype.hasOwnProperty,o="function"==typeof Symbol&&Symbol.iterator||"@@iterator",i="object"==typeof module,a=t.regeneratorRuntime;if(a)i&&(module.exports=a);else{(a=t.regeneratorRuntime=i?module.exports:{}).wrap=p;var c="suspendedStart",u="suspendedYield",f="executing",l="completed",s={},h=g.prototype=v.prototype;d.prototype=h.constructor=g,g.constructor=d,d.displayName="GeneratorFunction",a.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===d||"GeneratorFunction"===(r.displayName||r.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):t.__proto__=g,t.prototype=Object.create(h),t},a.awrap=function(t){return new m(t)},w(L.prototype),a.async=function(t,r,e,n){var o=new L(p(t,r,e,n));return a.isGeneratorFunction(r)?o:o.next().then(function(t){return t.done?t.value:o.next()})},w(h),h[o]=function(){return this},h.toString=function(){return"[object Generator]"},a.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},a.values=j,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=e,this.done=!1,this.delegate=null,this.tryEntries.forEach(b),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(e,n){return a.type="throw",a.arg=t,r.next=e,!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?this.next=i.finallyLoc:this.complete(a),s},complete:function(t,r){if("throw"===t.type)throw t.arg;"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=t.arg,this.next="end"):"normal"===t.type&&r&&(this.next=r)},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),b(e),s}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;b(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:j(t),resultName:r,nextLoc:e},s}}}function p(t,r,n,o){var i=Object.create((r||v).prototype),a=new E(o||[]);return i._invoke=function(t,r,n){var o=c;return function(i,a){if(o===f)throw new Error("Generator is already running");if(o===l){if("throw"===i)throw a;return k()}for(;;){var h=n.delegate;if(h){if("return"===i||"throw"===i&&h.iterator[i]===e){n.delegate=null;var p=h.iterator.return;if(p){var v=y(p,h.iterator,a);if("throw"===v.type){i="throw",a=v.arg;continue}}if("return"===i)continue}var v=y(h.iterator[i],h.iterator,a);if("throw"===v.type){n.delegate=null,i="throw",a=v.arg;continue}i="next",a=e;var d=v.arg;if(!d.done)return o=u,d;n[h.resultName]=d.value,n.next=h.nextLoc,n.delegate=null}if("next"===i)n._sent=a,n.sent=o===u?a:e;else if("throw"===i){if(o===c)throw o=l,a;n.dispatchException(a)&&(i="next",a=e)}else"return"===i&&n.abrupt("return",a);o=f;var v=y(t,r,n);if("normal"===v.type){o=n.done?l:u;var d={value:v.arg,done:n.done};if(v.arg!==s)return d;n.delegate&&"next"===i&&(a=e)}else"throw"===v.type&&(o=l,i="throw",a=v.arg)}}}(t,n,a),i}function y(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}function v(){}function d(){}function g(){}function w(t){["next","throw","return"].forEach(function(r){t[r]=function(t){return this._invoke(r,t)}})}function m(t){this.arg=t}function L(t){function e(r,e){var n=t[r](e),a=n.value;return a instanceof m?Promise.resolve(a.arg).then(o,i):Promise.resolve(a).then(function(t){return n.value=t,n})}"object"==typeof r&&r.domain&&(e=r.domain.bind(e));var n,o=e.bind(t,"next"),i=e.bind(t,"throw");e.bind(t,"return");this._invoke=function(t,r){function o(){return e(t,r)}return n=n?n.then(o,o):new Promise(function(t){t(o())})}}function x(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function b(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}return{next:k}}function k(){return{value:e,done:!0}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this);
},{"process":"MyHX"}],"GNGQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){return function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(n,t){var e=[],i=!0,r=!1,o=void 0;try{for(var a,c=n[Symbol.iterator]();!(i=(a=c.next()).done)&&(e.push(a.value),!t||e.length!==t);i=!0);}catch(n){r=!0,o=n}finally{try{!i&&c.return&&c.return()}finally{if(r)throw o}}return e}(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),t=function(){function n(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function i(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,i),this.config=Object.assign({inService:!1,onProcess:function(){},onReady:function(){}},n),this.turnX=0,this.turnY=0,this.config.container=document.getElementById(this.config.container),this.init()}return t(i,[{key:"init",value:function(){this.addEvent()}},{key:"start",value:function(){this.config.inService=!0,this.config.onStart&&this.config.onStart()}},{key:"stop",value:function(){this.config.inService=!1,this.config.onStop&&this.config.onStop()}},{key:"addEvent",value:function(){var t=this;window.addEventListener("devicemotion",function(e){var i=e.accelerationIncludingGravity.x.toFixed(2),r=e.accelerationIncludingGravity.y.toFixed(2);if(!t.config.inService)return t.turnX=i,t.turnY=r,t.config.onReady(),!1;i-=t.turnX,r-=t.turnY;var o=/translate3d\((-?.+)px,.(-?.+)px,.0px\)/,a=t.config.container,c=a.style.transform.match(o);if(c){var u=n(c,3),f=(u[0],u[1]),s=u[2],l=10*i,v=10*r;if(Math.abs(l)>3||Math.abs(v)>3){l=l>0?l-3:l+3,v=v>0?v-3:v+3;var h=Math.abs(l)>3?+f+l:+f,y=Math.abs(v)>3?+s+v:+s,d="translate3d("+h+"px, "+y+"px, 0px)",g=a.style.transform.replace(o,d);a.style.transform=g,t.config.onProcess&&t.config.onProcess.call(t,-h,-y)}}})}},{key:"inService",get:function(){return this.config.inService}}]),i}();exports.default=i;
},{}],"4itQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={HORI_SCREEN_NUMB:5,VERT_SCREEN_NUM:3,APP_ICON_ROW:5,APP_ICON_COL:4};
},{}],"3CA7":[function(require,module,exports) {
module.exports="wx.b909ae47.png";
},{}],"+ITk":[function(require,module,exports) {
module.exports="infinite.c4ef4b70.jpg";
},{}],"rL5s":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),t=require("./config"),i=r(t);function r(e){return e&&e.__esModule?e:{default:e}}function c(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Array.matrix=function(e,n,t){for(var i=[],r=0,c=0;c<e;c++){for(var o=[],a=0;a<n;a++)o.push(t(c,a,r)),r+=1;i.push(o)}return i};var o=70,a=require("./images/wx.png"),s=require("./images/infinite.jpg"),u=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,t);var r=document.body.clientWidth,o=document.body.clientHeight;this.bgImage=s,this.canvas=e,this.ctx=e.getContext("2d"),this.cancelAnimate=null,this.screenWidth=r,this.screenHeight=o;var a=i.default.HORI_SCREEN_NUMB,u=i.default.VERT_SCREEN_NUM;this.screenMatrix=Array.matrix(u,a,function(e,n,t){return{n:t,originX:n*r,originY:e*o,app:[]}}),this.centerX=-1,this.centerY=-1,this.config=Object.assign({},i.default,n);for(var f=0;f<a*u;f++)this.setAppInScreen(f);this.init()}return n(t,[{key:"init",value:function(){this.setCanvasSize(),this.drawScreen()}},{key:"show",value:function(e){var n=this.findScreen(e),t=n.originX,i=n.originY,r=this.screenHeight,c=t+this.screenWidth/2,o=i+r/2;this.canvas.style.transform="translate3d(-"+t+"px, -"+i+"px, 0) scale(1)",this.canvas.style.transformOrigin=c+"px "+o+"px"}},{key:"setCanvasSize",value:function(){var e=this.screenWidth,n=this.screenHeight,t=this.config,i=t.HORI_SCREEN_NUMB,r=t.VERT_SCREEN_NUM;this.canvas.width=e*i,this.canvas.height=n*r}},{key:"drawScreen",value:function(){var e=this;this.drawBg().then(function(){var n=e.config,t=n.HORI_SCREEN_NUMB,i=n.VERT_SCREEN_NUM;Array(t*i).fill(null).forEach(function(n,t){e.drawAppIcon(t)})})}},{key:"drawBg",value:function(){this.ctx,this.canvas,this.screenWidth,this.screenHeight;return console.log(this.screenMatrix),Promise.resolve()}},{key:"drawImg",value:function(n,t,i,r,c){var o=this;return new Promise(function(a,s){if("object"==(void 0===n?"undefined":e(n))&&1==n.nodeType)return o.ctx.drawImage(n,t,i,r,c),a(),!1;var u=new Image;u.src=n,u.onload=function(){u.width=r,u.height=c,o.ctx.drawImage(u,t,i,r,c),a(u)}})}},{key:"getScreenColRow",value:function(e){var n={col:0,row:0};return this.screenMatrix.forEach(function(t,i){t.forEach(function(t,r){t.n==e&&(n.col=r,n.row=i)})}),n}},{key:"getAppData",value:function(){var e=this.config,n=e.APP_ICON_ROW,t=e.APP_ICON_COL;return Array.matrix(n,t,function(e,n){return{name:"微信",icon:a,iconSize:o}})}},{key:"findScreen",value:function(e){var n=null;return this.screenMatrix.forEach(function(t,i){t.forEach(function(t,i){t.n==e&&(n=t)})}),n}},{key:"setAppInScreen",value:function(e){this.findScreen(e).app=this.getAppData()}},{key:"setCenterPoint",value:function(e,n){this.centerX=e,this.centerY=n}},{key:"findScreenForPorint",value:function(e,n){var t=this,i=0;return this.screenMatrix.forEach(function(r,c){r.forEach(function(r){var c=r.originX,o=r.originY,a=r.n;e>c&&e<c+t.screenWidth&&n>o&&n<o+t.screenHeight&&(i=a)})}),i}},{key:"animate",value:function(){var e=this;this.cancelAnimate=window.requestAnimationFrame(function(){var n=e.findScreenForPorint(e.centerX,e.centerY);e.drawAppIcon(n,e.centerX,e.centerY),e.animate()})}},{key:"stopAnimate",value:function(){window.cancelAnimationFrame(this.cancelAnimate)}},{key:"drawAppIcon",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=this.canvas,c=(r.width,r.height,this.config),a=c.APP_ICON_ROW,s=c.APP_ICON_COL,u=this.screenWidth,f=this.screenHeight,h=this.findScreen(e),l=h.app,v=h.originX,d=h.originY,g=(u-40)/s,p=(f-100)/a,y=g/2-o/2,m=p/2-o/2;l.forEach(function(e,r){e.forEach(function(e,c){var o=v+20+g*c+y,a=d+p*r+m,s=t>o&&t<v+g*(c+1),u=i>a&&i<d+p*(r+1);if(e.focus=s&&u,e.focus&&e.iconSize<100)n.ctx.clearRect(o,a,g,g),e.iconSize+=1;else if(!e.focus&&e.iconSize>70)n.ctx.clearRect(o,a,g,g),e.iconSize=70;else if(e.icon instanceof Image)return;e&&n.drawImg(e.icon,o,a,e.iconSize,e.iconSize).then(function(n){n&&(e.icon=n)})})})}}]),t}();exports.default=u;
},{"./config":"4itQ","./images/wx.png":"3CA7","./images/infinite.jpg":"+ITk"}],"Focm":[function(require,module,exports) {
"use strict";var t=require("babel-regenerator-runtime"),e=i(t),n=require("./InfiniteScreen"),o=i(n),r=require("./CreateScreen"),a=i(r);function i(t){return t&&t.__esModule?t:{default:t}}var s=document.body.clientWidth,c=document.body.clientHeight;window.addEventListener("load",function(){var t=document.getElementById("canvas"),e=new a.default(t);e.show(1);var n=new o.default({container:"canvas",onProcess:function(t,n){e.setCenterPoint(t+s/2-20,n+c/2-20)},onStart:function(){e.animate()},onStop:function(){e.show(1),e.stopAnimate()},onReady:function(){}});document.getElementById("start").addEventListener("touchstart",function(e){e.stopPropagation(),clearTimeout(r),t.style.transition="",n.start();var o=e.touches[0].pageY;o}),document.body.addEventListener("touchend",function(e){n.stop(),.01,t.style.transition="all .5s",t.style.transform=t.style.transform.replace(/scale\(.+\)/,"scale(1)"),r=setTimeout(function(){t.style.transition=""},500)}),document.body.addEventListener("touchstart",function(t){t.preventDefault()}),window.addEventListener("contextmenu",function(t){t.preventDefault()});var r=void 0,i=window.screen,s=i.width,c=i.height});
},{"babel-regenerator-runtime":"/8cX","./InfiniteScreen":"GNGQ","./CreateScreen":"rL5s"}]},{},["Focm"], null)
//# sourceMappingURL=src.a0bfd2c5.map